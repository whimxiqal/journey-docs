"use strict";(self.webpackChunkjourney_docs=self.webpackChunkjourney_docs||[]).push([[799],{3905:(e,t,r)=>{r.d(t,{Zo:()=>p,kt:()=>f});var a=r(7294);function n(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function o(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,a)}return r}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?o(Object(r),!0).forEach((function(t){n(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):o(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t){if(null==e)return{};var r,a,n=function(e,t){if(null==e)return{};var r,a,n={},o=Object.keys(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||(n[r]=e[r]);return n}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(a=0;a<o.length;a++)r=o[a],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var l=a.createContext({}),c=function(e){var t=a.useContext(l),r=t;return e&&(r="function"==typeof e?e(t):i(i({},t),e)),r},p=function(e){var t=c(e.components);return a.createElement(l.Provider,{value:t},e.children)},u="mdxType",h={inlineCode:"code",wrapper:function(e){var t=e.children;return a.createElement(a.Fragment,{},t)}},d=a.forwardRef((function(e,t){var r=e.components,n=e.mdxType,o=e.originalType,l=e.parentName,p=s(e,["components","mdxType","originalType","parentName"]),u=c(r),d=n,f=u["".concat(l,".").concat(d)]||u[d]||h[d]||o;return r?a.createElement(f,i(i({ref:t},p),{},{components:r})):a.createElement(f,i({ref:t},p))}));function f(e,t){var r=arguments,n=t&&t.mdxType;if("string"==typeof e||n){var o=r.length,i=new Array(o);i[0]=d;var s={};for(var l in t)hasOwnProperty.call(t,l)&&(s[l]=t[l]);s.originalType=e,s[u]="string"==typeof e?e:n,i[1]=s;for(var c=2;c<o;c++)i[c]=r[c];return a.createElement.apply(null,i)}return a.createElement.apply(null,r)}d.displayName="MDXCreateElement"},2603:(e,t,r)=>{r.r(t),r.d(t,{assets:()=>l,contentTitle:()=>i,default:()=>u,frontMatter:()=>o,metadata:()=>s,toc:()=>c});var a=r(7462),n=(r(7294),r(3905));const o={sidebar_label:"Search API",sidebar_position:2,description:"Submit custom searches"},i="The Search API",s={unversionedId:"dev/search-api",id:"dev/search-api",title:"The Search API",description:"Submit custom searches",source:"@site/docs/dev/search-api.md",sourceDirName:"dev",slug:"/dev/search-api",permalink:"/docs/dev/search-api",draft:!1,editUrl:"https://github.com/journey-docs/docs/dev/search-api.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_label:"Search API",sidebar_position:2,description:"Submit custom searches"},sidebar:"tutorialSidebar",previous:{title:"Getting Started",permalink:"/docs/dev/api-getting-started"},next:{title:"Navigation API",permalink:"/docs/dev/navigation-api"}},l={},c=[{value:"<code>SearchResult</code>",id:"search-result",level:2},{value:"<code>SearchFlags</code>",id:"search-flags",level:2}],p={toc:c};function u(e){let{components:t,...r}=e;return(0,n.kt)("wrapper",(0,a.Z)({},p,r,{components:t,mdxType:"MDXLayout"}),(0,n.kt)("h1",{id:"the-search-api"},"The Search API"),(0,n.kt)("p",null,"To submit search requests to Journey, you must first get the ",(0,n.kt)("inlineCode",{parentName:"p"},"SearchApi"),":"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-java"},"JourneyApi journey = JourneyApiProvider.get();\nSearchApi searching = journey.searching();\n")),(0,n.kt)("p",null,"From the ",(0,n.kt)("inlineCode",{parentName:"p"},"SearchApi"),", you may submit a request for players:"),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-java"},"searching.runPlayerDestinationSearch(playerUuid, destination, SearchFlags.of(/* any desired flags */));\n")),(0,n.kt)("p",null,"Alternatively, you may submit a request for an arbitrary ",(0,n.kt)("a",{parentName:"p",href:"/docs/dev/journey-agent"},(0,n.kt)("inlineCode",{parentName:"a"},"JourneyAgent")),"."),(0,n.kt)("pre",null,(0,n.kt)("code",{parentName:"pre",className:"language-java"},"searching.runDestinationSearch(myAgent, origin, destination, SearchFlags.of(/* any desired flags*/));\n")),(0,n.kt)("p",null,"A request returns a ",(0,n.kt)("inlineCode",{parentName:"p"},"CompletionStage<SearchResult>"),", on which you may set callbacks for when the search completes. These requests may safely be called asynchronously. The stage will always be completed on the main server thread."),(0,n.kt)("p",null,"By itself, the search doesn't start navigation for any player. Use the ",(0,n.kt)("a",{parentName:"p",href:"/docs/dev/navigation-api"},"Navigation API")," for this step."),(0,n.kt)("h2",{id:"search-result"},(0,n.kt)("inlineCode",{parentName:"h2"},"SearchResult")),(0,n.kt)("p",null,"The result of a search contains just two pieces of information:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},"the successfulness of the search"),(0,n.kt)("li",{parentName:"ol"},"the path itself, if the search was successful")),(0,n.kt)("h2",{id:"search-flags"},(0,n.kt)("inlineCode",{parentName:"h2"},"SearchFlags")),(0,n.kt)("p",null,"You may request that Journey alter the behavior of the search by passing in ",(0,n.kt)("inlineCode",{parentName:"p"},"SearchFlags"),", which are essentially just key-value objects. Current flag types are:"),(0,n.kt)("ol",null,(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"TIMEOUT"),": How many seconds should the search take before quitting. Default is set in the ",(0,n.kt)("a",{parentName:"li",href:"/docs/config"},"config"),"."),(0,n.kt)("li",{parentName:"ol"},(0,n.kt)("inlineCode",{parentName:"li"},"FLY"),": Whether flight should be considered as a possible mode of transportation for those with the ability to fly. Default is set in the ",(0,n.kt)("a",{parentName:"li",href:"/docs/config"},"config"),".")))}u.isMDXComponent=!0}}]);